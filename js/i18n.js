// i18n — language state + UI string dictionary
const STORAGE_KEY = 'where2dive_lang';

let currentLang = localStorage.getItem(STORAGE_KEY) || 'ko';
let langChangeListener = null;

export function getLang() { return currentLang; }

export function setLang(lang) {
  if (lang !== 'ko' && lang !== 'en') return;
  currentLang = lang;
  localStorage.setItem(STORAGE_KEY, lang);
  if (langChangeListener) langChangeListener(lang);
}

export function setLangChangeListener(fn) {
  langChangeListener = fn;
}

/** Translate a UI string key */
export function t(key) {
  const dict = currentLang === 'en' ? en : ko;
  return dict[key] ?? key;
}

/** Translate a data field — returns spot[field+'En'] when lang=en */
export function td(spot, field) {
  if (currentLang === 'en') {
    const enVal = spot[field + 'En'];
    if (enVal !== undefined && enVal !== null) return enVal;
  }
  return spot[field];
}

/** Convert Korean month string like '6월' to English like 'Jun' */
const MONTH_MAP = {
  '1월': 'Jan', '2월': 'Feb', '3월': 'Mar', '4월': 'Apr',
  '5월': 'May', '6월': 'Jun', '7월': 'Jul', '8월': 'Aug',
  '9월': 'Sep', '10월': 'Oct', '11월': 'Nov', '12월': 'Dec',
};

export function translateMonth(monthStr) {
  if (currentLang === 'en') return MONTH_MAP[monthStr] || monthStr;
  return monthStr;
}

// ── Korean strings ──
const ko = {
  // nav
  'nav.map': '지도',
  'nav.list': '목록',
  'nav.favorites': '즐겨찾기',
  'nav.listToggle': '목록',

  // filter
  'filter.search.placeholder': '스팟 이름, 국가, 해양생물 검색...',
  'filter.country.placeholder': '국가 검색 (EN)...',
  'filter.region.all': '모든 지역',
  'filter.reset': '초기화',
  'filter.activity.all': '전체',
  'filter.activity.skin': '스킨',
  'filter.activity.scuba': '스쿠버',
  'filter.activity.favorites': '즐겨찾기',
  'filter.button': '필터',
  'filter.search.button': '검색',
  'filter.temp.label': '수온',
  'filter.difficulty': '난이도',
  'filter.difficulty.all': '전체',
  'filter.season': '추천 시즌',
  'filter.season.all': '전체',
  'filter.temp.all': '전체',
  'filter.visibility': '시야',
  'filter.visibility.all': '전체',
  'filter.month.1': '1월', 'filter.month.2': '2월', 'filter.month.3': '3월',
  'filter.month.4': '4월', 'filter.month.5': '5월', 'filter.month.6': '6월',
  'filter.month.7': '7월', 'filter.month.8': '8월', 'filter.month.9': '9월',
  'filter.month.10': '10월', 'filter.month.11': '11월', 'filter.month.12': '12월',

  // card
  'card.depth': '수심',
  'card.waterTemp': '수온',
  'card.visibility': '시야',
  'card.detail': '상세보기',
  'card.count': '{n}개 다이빙 스팟',

  // modal
  'modal.info': '다이빙 정보',
  'modal.depth': '수심',
  'modal.waterTemp': '수온',
  'modal.visibility': '시야',
  'modal.difficulty': '난이도',
  'modal.activityType': '활동유형',
  'modal.bestSeason': '추천 시즌',
  'modal.marineLife': '해양 생물',
  'modal.highlights': '하이라이트',
  'modal.location': '위치',
  'modal.openInMaps': 'Google Maps에서 열기',
  'modal.addToLogbook': '로그북에 추가',
  'modal.share': '공유',

  // weather (modal)
  'modal.weather.title': '실시간 날씨 · 해양 정보',
  'modal.weather.loading': '날씨 데이터 불러오는 중...',
  'weather.temperature': '기온',
  'weather.weather': '날씨',
  'weather.windSpeed': '풍속',
  'weather.windDir': '풍향',
  'weather.waterTemp': '수온(실시간)',
  'weather.waveHeight': '파고',
  'weather.waveDir': '파향',
  'weather.wavePeriod': '파주기',
  'weather.error': '날씨 데이터를 불러오지 못했습니다.',
  'weather.retry': '다시 시도',
  'weather.noData': '이 지역의 날씨 데이터를 사용할 수 없습니다.',
  'weather.fetchError': '날씨 데이터 로딩 실패',
  'weather.diveScore': '다이빙 적합도',
  'weather.diveScore.msg5': '완벽한 다이빙 날씨입니다!',
  'weather.diveScore.msg4': '다이빙하기 좋은 날씨입니다',
  'weather.diveScore.msg3': '다이빙 가능하지만 주의하세요',
  'weather.diveScore.msg2': '다이빙 권장하지 않습니다',
  'weather.diveScore.msg1': '다이빙 불가능한 날씨입니다',
  'weather.forecast.title': '7일 예보',
  'weather.forecast.today': '오늘',
  'weather.forecast.tomorrow': '내일',
  'weather.forecast.day.Mon': '월',
  'weather.forecast.day.Tue': '화',
  'weather.forecast.day.Wed': '수',
  'weather.forecast.day.Thu': '목',
  'weather.forecast.day.Fri': '금',
  'weather.forecast.day.Sat': '토',
  'weather.forecast.day.Sun': '일',
  'weather.precipitation': '강수량',

  // empty
  'empty.noSpots': '조건에 맞는 다이빙 스팟이 없습니다.',
  'empty.reset': '필터 초기화',
  'empty.noFavorites': '아직 즐겨찾기한 스팟이 없습니다.',
  'empty.noFavoritesSub': '하트를 눌러 관심 있는 스팟을 저장해보세요!',

  // regions
  'region.korea': '한국',
  'region.southeast-asia': '동남아시아',
  'region.oceania': '오세아니아',
  'region.indian-ocean': '인도양',
  'region.red-sea': '홍해',
  'region.caribbean': '카리브해',
  'region.europe': '유럽',
  'region.east-asia': '동아시아',
  'region.pacific': '태평양',
  'region.americas': '아메리카',

  // difficulty
  'difficulty.beginner': '초급',
  'difficulty.intermediate': '중급',
  'difficulty.advanced': '상급',

  // activity
  'activity.skin': '스킨',
  'activity.scuba': '스쿠버',

  // wind directions
  'wind.N': '북', 'wind.NE': '북동', 'wind.E': '동', 'wind.SE': '남동',
  'wind.S': '남', 'wind.SW': '남서', 'wind.W': '서', 'wind.NW': '북서',

  // weather codes
  'weather.code.0': '맑음',
  'weather.code.1': '대체로 맑음',
  'weather.code.2': '구름 약간',
  'weather.code.3': '흐림',
  'weather.code.45': '안개',
  'weather.code.48': '짙은 안개',
  'weather.code.51': '이슬비',
  'weather.code.53': '이슬비',
  'weather.code.55': '강한 이슬비',
  'weather.code.61': '약한 비',
  'weather.code.63': '비',
  'weather.code.65': '강한 비',
  'weather.code.71': '약한 눈',
  'weather.code.73': '눈',
  'weather.code.75': '강한 눈',
  'weather.code.80': '소나기',
  'weather.code.81': '소나기',
  'weather.code.82': '강한 소나기',
  'weather.code.95': '뇌우',
  'weather.code.96': '우박 뇌우',
  'weather.code.99': '강한 우박 뇌우',
  'weather.code.unknown': '정보 없음',

  // landing
  'landing.tagline': '전 세계 다이빙 스팟을 찾아보세요',
  'landing.email': '이메일',
  'landing.password': '비밀번호',
  'landing.login': '로그인',
  'landing.signup': '회원가입',
  'landing.or': '또는',
  'landing.google': 'Google로 계속하기',
  'landing.demo': '데모: demo@where2dive.com / 1234',
  'landing.error': '이메일 또는 비밀번호가 올바르지 않습니다.',

  // signup
  'landing.nickname': '닉네임',
  'landing.nickname.placeholder': '닉네임 (2~12자)',
  'landing.nickname.check': '중복확인',
  'landing.passwordConfirm': '비밀번호 확인',
  'landing.passwordConfirm.placeholder': '비밀번호 확인',

  // signup validation
  'signup.error.email.invalid': '유효한 이메일 주소를 입력해주세요.',
  'signup.error.nickname.length': '닉네임은 2~12자여야 합니다.',
  'signup.error.nickname.chars': '한글, 영문, 숫자만 사용할 수 있습니다.',
  'signup.error.nickname.duplicate': '이미 사용 중인 닉네임입니다.',
  'signup.error.nickname.available': '사용 가능한 닉네임입니다.',
  'signup.error.nickname.checkRequired': '닉네임 중복확인을 해주세요.',
  'signup.error.password.weak': '비밀번호는 8자 이상, 영문+숫자를 포함해야 합니다.',
  'signup.error.password.mismatch': '비밀번호가 일치하지 않습니다.',

  // find email / reset password
  'landing.findEmail': '아이디 찾기',
  'landing.resetPw': '비밀번호 찾기',
  'landing.backToLogin': '로그인으로 돌아가기',
  'findEmail.title': '아이디(이메일) 찾기',
  'findEmail.nickname.placeholder': '가입 시 사용한 닉네임',
  'findEmail.submit': '아이디 찾기',
  'findEmail.success': '등록된 이메일: {email}',
  'findEmail.notFound': '해당 닉네임으로 가입된 계정이 없습니다.',
  'resetPw.title': '비밀번호 찾기',
  'resetPw.email.placeholder': '가입한 이메일 주소',
  'resetPw.submit': '재설정 링크 발송',
  'resetPw.success': '비밀번호 재설정 이메일이 발송되었습니다. 이메일을 확인해주세요.',
  'resetPw.notFound': '등록되지 않은 이메일입니다.',

  // terms agreement
  'terms.agreeAll': '전체 동의',
  'terms.required': '[필수]',
  'terms.optional': '[선택]',
  'terms.service': '서비스 이용약관 동의',
  'terms.privacy': '개인정보 처리방침 동의',
  'terms.marketing': '마케팅 정보 수신 동의',
  'terms.view': '보기',

  // auth errors
  'auth.error.generic': '인증에 실패했습니다. 다시 시도해주세요.',
  'auth.error.user-not-found': '등록되지 않은 이메일입니다.',
  'auth.error.wrong-password': '비밀번호가 올바르지 않습니다.',
  'auth.error.invalid-email': '유효하지 않은 이메일 주소입니다.',
  'auth.error.email-already-in-use': '이미 사용 중인 이메일입니다.',
  'auth.error.weak-password': '비밀번호는 6자 이상이어야 합니다.',
  'auth.error.too-many-requests': '요청이 너무 많습니다. 잠시 후 다시 시도해주세요.',
  'auth.error.invalid-credential': '이메일 또는 비밀번호가 올바르지 않습니다.',
  'auth.error.network-request-failed': '네트워크 오류가 발생했습니다. 인터넷 연결을 확인해주세요.',

  // nav (addition)
  'nav.logout': '로그아웃',
  'nav.logbook': '로그북',
  'nav.more': '더보기',
  'nav.language': '언어',

  // logbook
  'logbook.stats.totalDives': '총 다이브',
  'logbook.stats.maxDepth': '최대 수심',
  'logbook.stats.totalTime': '총 시간',
  'logbook.stats.spots': '방문 스팟',
  'logbook.stats.avgDepth': '평균 수심',
  'logbook.stats.avgTime': '평균 시간',
  'logbook.stats.skinDives': '스킨',
  'logbook.stats.scubaDives': '스쿠버',
  'logbook.stats.firstDive': '첫 다이빙',
  'logbook.stats.lastDive': '최근 다이빙',
  'logbook.stats.topSpots': '자주 간 스팟',
  'logbook.stats.monthly': '월별 다이빙',
  'logbook.stats.yearly': '연도별',
  'logbook.stats.dives': '회',
  'logbook.addNew': '+ 새 로그',
  'logbook.empty': '아직 다이빙 로그가 없습니다.',
  'logbook.emptySub': '첫 다이빙 기록을 추가해보세요!',
  'logbook.depth': '수심',
  'logbook.time': '시간',
  'logbook.temp': '수온',
  'logbook.form.title': '새 다이빙 로그',
  'logbook.form.titleEdit': '다이빙 로그 수정',
  'logbook.form.date': '날짜',
  'logbook.form.spotName': '스팟 이름',
  'logbook.form.activityType': '활동 유형',
  'logbook.form.maxDepth': '최대 수심 (m)',
  'logbook.form.diveTime': '다이빙 시간 (분)',
  'logbook.form.waterTemp': '수온 (°C)',
  'logbook.form.visibility': '시야 (m)',
  'logbook.form.equipment': '장비',
  'logbook.form.weight': '웨이트 (kg)',
  'logbook.form.entryTime': '입수 시간',
  'logbook.form.exitTime': '출수 시간',
  'logbook.time.am': '오전',
  'logbook.time.pm': '오후',
  'logbook.form.tankStart': '시작 잔압 (bar)',
  'logbook.form.tankEnd': '종료 잔압 (bar)',
  'logbook.form.buddy': '버디',
  'logbook.form.weather': '날씨',
  'logbook.form.location': '위치',
  'logbook.form.pickOnMap': '지도에서 선택',
  'logbook.form.pickBanner': '지도를 클릭하여 위치를 선택하세요',
  'logbook.form.pickCancel': '취소',
  'logbook.form.memo': '메모',
  'logbook.form.save': '저장',
  'logbook.form.cancel': '취소',
  'logbook.delete.confirm': '이 로그를 삭제하시겠습니까?',
  'logbook.card.edit': '수정',
  'logbook.card.delete': '삭제',
  'logbook.form.media': '사진/동영상',
  'logbook.form.mediaHint': '최대 4개 (이미지 5MB, 동영상 50MB)',
  'logbook.validation.fileType': '지원하지 않는 파일 형식입니다.',
  'logbook.validation.fileSize': '파일 크기가 초과되었습니다.',
  'logbook.validation.fileCount': '최대 4개까지 첨부할 수 있습니다.',
  'logbook.uploading': '업로드 중...',
  'logbook.error.upload': '파일 업로드에 실패했습니다.',

  // my spots
  'myspot.badge': '내 스팟',
  'myspot.toggle': '내 스팟',
  'myspot.add': '스팟 추가',
  'myspot.form.title': '새 다이빙 스팟',
  'myspot.form.titleEdit': '스팟 수정',
  'myspot.form.name': '스팟 이름',
  'myspot.form.location': '위치',
  'myspot.form.pickOnMap': '지도에서 선택',
  'myspot.form.depth': '수심',
  'myspot.form.tempMin': '최저 수온 (°C)',
  'myspot.form.tempMax': '최고 수온 (°C)',
  'myspot.form.difficulty': '난이도',
  'myspot.form.activityTypes': '활동 유형',
  'myspot.form.memo': '메모',
  'myspot.form.save': '저장',
  'myspot.form.cancel': '취소',
  'myspot.delete.confirm': '이 스팟을 삭제하시겠습니까?',
  'myspot.card.edit': '수정',
  'myspot.card.delete': '삭제',

  // page
  'title': 'Where2Dive — 다이빙 스팟 찾기',

  // footer
  'footer.about': 'Where2Dive 소개',
  'footer.guide': '다이빙 가이드',
  'footer.privacy': '개인정보 처리방침',
  'footer.terms': '이용약관',
  'footer.contact': '문의하기',
  'footer.section.service': '서비스',
  'footer.section.legal': '법적 고지',
  'footer.section.info': '정보',
  'footer.section.data': '데이터',
  'footer.desc': '전 세계 다이빙 스팟을 찾고, 날씨와 해양 정보를 확인하세요.',
  'footer.copyright': '© 2025 Where2Dive. All rights reserved.',
  'footer.openMeteo': 'Open-Meteo',
  'footer.osm': 'OpenStreetMap',

  // search sheet
  'search.placeholder': '스팟, 국가 검색...',
  'search.title': '검색',
  'search.country': '국가',
  'search.countryPlaceholder': '국가 검색...',
  'search.region': '지역',
  'search.result.country': '국가',
  'search.result.spot': '다이빙 스팟',
  'search.difficulty': '난이도',
  'search.season': '추천 시즌',
  'search.temp': '수온',
  'search.visibility': '시야',
  'search.noResults': '검색 결과가 없습니다',

  // cookie
  'cookie.text': '이 웹사이트는 사용자 경험 개선을 위해 쿠키를 사용합니다. 계속 사용하면 쿠키 사용에 동의하는 것으로 간주합니다.',
  'cookie.accept': '동의',
  'cookie.learnMore': '자세히 보기',

  // reviews
  'review.title': '리뷰',
  'review.write': '리뷰 쓰기',
  'review.empty': '아직 리뷰가 없습니다. 첫 리뷰를 작성해보세요!',
  'review.countSuffix': '개 리뷰',
  'review.loginRequired': '리뷰를 작성하려면 로그인이 필요합니다.',
  'review.edit': '수정',
  'review.delete': '삭제',
  'review.delete.confirm': '이 리뷰를 삭제하시겠습니까?',
  'review.uploading': '업로드 중...',
  'review.error.upload': '파일 업로드에 실패했습니다.',
  'review.error.save': '리뷰 저장에 실패했습니다.',
  'review.error.delete': '리뷰 삭제에 실패했습니다.',
  'review.error.load': '리뷰를 불러오지 못했습니다.',
  'review.sort.latest': '최신순',
  'review.sort.ratingHigh': '별점 높은순',
  'review.sort.ratingLow': '별점 낮은순',
  'review.form.title': '리뷰 작성',
  'review.form.titleEdit': '리뷰 수정',
  'review.form.rating': '별점',
  'review.form.reviewTitle': '제목',
  'review.form.reviewTitlePlaceholder': '리뷰 제목 (최대 50자)',
  'review.form.content': '내용',
  'review.form.contentPlaceholder': '다이빙 경험을 공유해주세요 (최대 500자)',
  'review.form.visitDate': '방문일',
  'review.form.media': '사진/동영상',
  'review.form.mediaHint': '최대 5개 (이미지 5MB, 동영상 50MB)',
  'review.form.save': '저장',
  'review.form.cancel': '취소',
  'review.validation.rating': '별점을 선택해주세요.',
  'review.validation.title': '제목을 입력해주세요.',
  'review.validation.content': '내용을 입력해주세요.',
  'review.validation.fileType': '지원하지 않는 파일 형식입니다.',
  'review.validation.fileSize': '파일 크기가 초과되었습니다.',
  'review.validation.fileCount': '최대 5개까지 첨부할 수 있습니다.',

  // profile
  'nav.profile': '내 프로필',
  'profile.title': '프로필',
  'profile.editBtn': '프로필 수정',
  'profile.bio': '소개',
  'profile.country': '국가',
  'profile.noBio': '아직 소개가 없습니다.',
  'profile.certs': '자격증',
  'profile.addCert': '+ 자격증 추가',
  'profile.noCerts': '등록된 자격증이 없습니다.',
  'profile.stats.title': '다이빙 통계',
  'profile.stats.totalDives': '총 다이브',
  'profile.stats.maxDepth': '최대 수심',
  'profile.stats.totalTime': '총 시간',
  'profile.stats.spots': '방문 스팟',
  'profile.recentLogs': '최근 다이빙',
  'profile.recentReviews': '최근 리뷰',
  'profile.moreBtn': '더보기',
  'profile.noLogs': '아직 다이빙 기록이 없습니다.',
  'profile.noReviews': '아직 작성한 리뷰가 없습니다.',
  'profile.reviewCount': '리뷰 {n}개',
  'profile.privacy.title': '공개 설정',
  'profile.privacy.public': '프로필 공개',
  'profile.privacy.showCerts': '자격증 공개',
  'profile.privacy.showReviews': '리뷰 공개',
  'profile.private': '비공개 프로필입니다.',
  'profile.edit.title': '프로필 수정',
  'profile.edit.photo': '프로필 사진',
  'profile.edit.changePhoto': '사진 변경',
  'profile.edit.nickname': '닉네임',
  'profile.edit.bio': '소개',
  'profile.edit.bioPlaceholder': '자기소개를 입력해주세요 (최대 200자)',
  'profile.edit.country': '국가',
  'profile.edit.countryPlaceholder': '국가 선택...',
  'profile.edit.save': '저장',
  'profile.edit.cancel': '취소',
  'profile.cert.title': '자격증 추가',
  'profile.cert.org': '발급 기관',
  'profile.cert.orgPlaceholder': '기관 선택...',
  'profile.cert.level': '레벨',
  'profile.cert.levelPlaceholder': '레벨 선택...',
  'profile.cert.date': '취득일',
  'profile.cert.number': '자격증 번호',
  'profile.cert.photo': '자격증 사진',
  'profile.cert.save': '추가',
  'profile.cert.cancel': '취소',
  'profile.error.save': '프로필 저장에 실패했습니다.',
  'profile.error.upload': '사진 업로드에 실패했습니다.',
  'profile.error.cert': '자격증 추가에 실패했습니다.',

  // achievements
  'nav.achievements': '업적',
  'achievements.title': '내 업적',
  'achievements.counter': '{n}/{total}',
  'achievements.unlocked': '달성',
  'achievements.locked': '미달성',
  'achievements.progress': '진행도',
  'achievements.unlockedAt': '달성일',
  'achievements.newAchievement': '새 업적 달성!',
  'achievements.confirm': '확인',
  'achievements.featured': '대표 뱃지',
  'achievements.featuredHint': '프로필에 표시할 뱃지를 최대 3개 선택하세요.',
  'achievements.featuredSave': '저장',
  'achievements.category.diving': '다이빙 횟수',
  'achievements.category.travel': '여행',
  'achievements.category.spots': '스팟',
  'achievements.category.community': '커뮤니티',
  'achievements.category.special': '특별',
  'achievements.firstDive.name': '첫 다이빙',
  'achievements.firstDive.desc': '첫 로그북을 작성했습니다',
  'achievements.fish.name': '물고기 친구',
  'achievements.fish.desc': '10회 다이빙을 달성했습니다',
  'achievements.dolphin.name': '돌고래',
  'achievements.dolphin.desc': '30회 다이빙을 달성했습니다',
  'achievements.whale.name': '고래',
  'achievements.whale.desc': '50회 다이빙을 달성했습니다',
  'achievements.poseidon.name': '포세이돈',
  'achievements.poseidon.desc': '100회 다이빙을 달성했습니다',
  'achievements.explorer.name': '탐험가',
  'achievements.explorer.desc': '3개국에서 다이빙했습니다',
  'achievements.traveler.name': '세계 여행자',
  'achievements.traveler.desc': '5개국에서 다이빙했습니다',
  'achievements.globalDiver.name': '글로벌 다이버',
  'achievements.globalDiver.desc': '10개국에서 다이빙했습니다',
  'achievements.worldChamp.name': '월드 챔피언',
  'achievements.worldChamp.desc': '20개국에서 다이빙했습니다',
  'achievements.firstStep.name': '첫 발자국',
  'achievements.firstStep.desc': '5개 스팟을 방문했습니다',
  'achievements.spotHunter.name': '스팟 헌터',
  'achievements.spotHunter.desc': '15개 스팟을 방문했습니다',
  'achievements.spotMaster.name': '스팟 마스터',
  'achievements.spotMaster.desc': '30개 스팟을 방문했습니다',
  'achievements.reviewer.name': '리뷰어',
  'achievements.reviewer.desc': '첫 리뷰를 작성했습니다',
  'achievements.popularReviewer.name': '인기 리뷰어',
  'achievements.popularReviewer.desc': '10개 리뷰를 작성했습니다',
  'achievements.reviewMaster.name': '리뷰 마스터',
  'achievements.reviewMaster.desc': '30개 리뷰를 작성했습니다',
  'achievements.photographer.name': '포토그래퍼',
  'achievements.photographer.desc': '사진 20장을 업로드했습니다',
  'achievements.sunriseDiver.name': '일출 다이버',
  'achievements.sunriseDiver.desc': '오전 6시 이전에 다이빙했습니다',
  'achievements.nightDiver.name': '나이트 다이버',
  'achievements.nightDiver.desc': '오후 8시 이후에 다이빙했습니다',
  'achievements.iceDiver.name': '아이스 다이버',
  'achievements.iceDiver.desc': '수온 15°C 이하에서 다이빙했습니다',
  'achievements.deepDiver.name': '딥 다이버',
  'achievements.deepDiver.desc': '수심 30m 이상 다이빙했습니다',
  'achievements.consistent.name': '꾸준함',
  'achievements.consistent.desc': '30일 연속 다이빙을 기록했습니다',

  // info
  'info.title': 'Where2Dive 안내',
  'info.content': '안녕하세요, Where2Dive를 방문해 주셔서 감사합니다!\n\n전 세계 스노클러, 프리다이버, 스쿠버 다이버들의 편의를 위해 이 서비스를 만들었습니다.\n\n직접 방문한 장소는 최대한 상세하게 기록하고 있지만, 아직 가보지 못한 곳은 자료를 찾아 입력하였습니다. 이로 인해 위치나 정보에 오류가 있을 수 있으니 양해 부탁드립니다.\n\n앞으로도 지속적으로 보완하여, 전 세계에서 가장 많은 다이빙 스팟과 가장 정확한 정보를 제공하는 "Where2Dive"가 되도록 노력하겠습니다.\n\n감사합니다! \uD83E\uDD3F',
  'info.close': '확인',
};

// ── English strings ──
const en = {
  // nav
  'nav.map': 'Map',
  'nav.list': 'List',
  'nav.favorites': 'Favorites',
  'nav.listToggle': 'List',

  // filter
  'filter.search.placeholder': 'Search spots, countries, marine life...',
  'filter.country.placeholder': 'Search country...',
  'filter.region.all': 'All Regions',
  'filter.reset': 'Reset',
  'filter.activity.all': 'All',
  'filter.activity.skin': 'Skin',
  'filter.activity.scuba': 'Scuba',
  'filter.activity.favorites': 'Favorites',
  'filter.button': 'Filter',
  'filter.search.button': 'Search',
  'filter.temp.label': 'Temp',
  'filter.difficulty': 'Difficulty',
  'filter.difficulty.all': 'All',
  'filter.season': 'Best Season',
  'filter.season.all': 'All',
  'filter.temp.all': 'All',
  'filter.visibility': 'Visibility',
  'filter.visibility.all': 'All',
  'filter.month.1': 'Jan', 'filter.month.2': 'Feb', 'filter.month.3': 'Mar',
  'filter.month.4': 'Apr', 'filter.month.5': 'May', 'filter.month.6': 'Jun',
  'filter.month.7': 'Jul', 'filter.month.8': 'Aug', 'filter.month.9': 'Sep',
  'filter.month.10': 'Oct', 'filter.month.11': 'Nov', 'filter.month.12': 'Dec',

  // card
  'card.depth': 'Depth',
  'card.waterTemp': 'Temp',
  'card.visibility': 'Visibility',
  'card.detail': 'Details',
  'card.count': '{n} diving spots',

  // modal
  'modal.info': 'Dive Info',
  'modal.depth': 'Depth',
  'modal.waterTemp': 'Temp',
  'modal.visibility': 'Visibility',
  'modal.difficulty': 'Difficulty',
  'modal.activityType': 'Activity',
  'modal.bestSeason': 'Best Season',
  'modal.marineLife': 'Marine Life',
  'modal.highlights': 'Highlights',
  'modal.location': 'Location',
  'modal.openInMaps': 'Open in Google Maps',
  'modal.addToLogbook': 'Add to Logbook',
  'modal.share': 'Share',

  // weather (modal)
  'modal.weather.title': 'Live Weather & Marine Info',
  'modal.weather.loading': 'Loading weather data...',
  'weather.temperature': 'Temp',
  'weather.weather': 'Weather',
  'weather.windSpeed': 'Wind',
  'weather.windDir': 'Wind Dir',
  'weather.waterTemp': 'Sea Temp',
  'weather.waveHeight': 'Waves',
  'weather.waveDir': 'Wave Dir',
  'weather.wavePeriod': 'Period',
  'weather.error': 'Failed to load weather data.',
  'weather.retry': 'Retry',
  'weather.noData': 'Weather data unavailable for this area.',
  'weather.fetchError': 'Weather data loading failed',
  'weather.diveScore': 'Dive Score',
  'weather.diveScore.msg5': 'Perfect diving conditions!',
  'weather.diveScore.msg4': 'Great day for diving',
  'weather.diveScore.msg3': 'Diveable but use caution',
  'weather.diveScore.msg2': 'Diving not recommended',
  'weather.diveScore.msg1': 'Unsafe diving conditions',
  'weather.forecast.title': '7-Day Forecast',
  'weather.forecast.today': 'Today',
  'weather.forecast.tomorrow': 'Tomorrow',
  'weather.forecast.day.Mon': 'Mon',
  'weather.forecast.day.Tue': 'Tue',
  'weather.forecast.day.Wed': 'Wed',
  'weather.forecast.day.Thu': 'Thu',
  'weather.forecast.day.Fri': 'Fri',
  'weather.forecast.day.Sat': 'Sat',
  'weather.forecast.day.Sun': 'Sun',
  'weather.precipitation': 'Precipitation',

  // empty
  'empty.noSpots': 'No diving spots match your criteria.',
  'empty.reset': 'Reset Filters',
  'empty.noFavorites': 'No favorite spots yet.',
  'empty.noFavoritesSub': 'Tap the heart icon to save spots you like!',

  // regions
  'region.korea': 'Korea',
  'region.southeast-asia': 'Southeast Asia',
  'region.oceania': 'Oceania',
  'region.indian-ocean': 'Indian Ocean',
  'region.red-sea': 'Red Sea',
  'region.caribbean': 'Caribbean',
  'region.europe': 'Europe',
  'region.east-asia': 'East Asia',
  'region.pacific': 'Pacific',
  'region.americas': 'Americas',

  // difficulty
  'difficulty.beginner': 'Beginner',
  'difficulty.intermediate': 'Intermediate',
  'difficulty.advanced': 'Advanced',

  // activity
  'activity.skin': 'Skin',
  'activity.scuba': 'Scuba',

  // wind directions
  'wind.N': 'N', 'wind.NE': 'NE', 'wind.E': 'E', 'wind.SE': 'SE',
  'wind.S': 'S', 'wind.SW': 'SW', 'wind.W': 'W', 'wind.NW': 'NW',

  // weather codes
  'weather.code.0': 'Clear',
  'weather.code.1': 'Mostly Clear',
  'weather.code.2': 'Partly Cloudy',
  'weather.code.3': 'Overcast',
  'weather.code.45': 'Fog',
  'weather.code.48': 'Dense Fog',
  'weather.code.51': 'Light Drizzle',
  'weather.code.53': 'Drizzle',
  'weather.code.55': 'Heavy Drizzle',
  'weather.code.61': 'Light Rain',
  'weather.code.63': 'Rain',
  'weather.code.65': 'Heavy Rain',
  'weather.code.71': 'Light Snow',
  'weather.code.73': 'Snow',
  'weather.code.75': 'Heavy Snow',
  'weather.code.80': 'Showers',
  'weather.code.81': 'Showers',
  'weather.code.82': 'Heavy Showers',
  'weather.code.95': 'Thunderstorm',
  'weather.code.96': 'Hail Storm',
  'weather.code.99': 'Severe Hail Storm',
  'weather.code.unknown': 'Unknown',

  // landing
  'landing.tagline': 'Discover diving spots worldwide',
  'landing.email': 'Email',
  'landing.password': 'Password',
  'landing.login': 'Log in',
  'landing.signup': 'Sign up',
  'landing.or': 'or',
  'landing.google': 'Continue with Google',
  'landing.demo': 'Demo: demo@where2dive.com / 1234',
  'landing.error': 'Invalid email or password.',

  // signup
  'landing.nickname': 'Nickname',
  'landing.nickname.placeholder': 'Nickname (2-12 chars)',
  'landing.nickname.check': 'Check',
  'landing.passwordConfirm': 'Confirm Password',
  'landing.passwordConfirm.placeholder': 'Confirm Password',

  // signup validation
  'signup.error.email.invalid': 'Please enter a valid email address.',
  'signup.error.nickname.length': 'Nickname must be 2-12 characters.',
  'signup.error.nickname.chars': 'Only Korean, English, and numbers allowed.',
  'signup.error.nickname.duplicate': 'This nickname is already taken.',
  'signup.error.nickname.available': 'This nickname is available.',
  'signup.error.nickname.checkRequired': 'Please check nickname availability.',
  'signup.error.password.weak': 'Password must be 8+ chars with letters and numbers.',
  'signup.error.password.mismatch': 'Passwords do not match.',

  // find email / reset password
  'landing.findEmail': 'Find ID',
  'landing.resetPw': 'Forgot Password',
  'landing.backToLogin': 'Back to login',
  'findEmail.title': 'Find your email',
  'findEmail.nickname.placeholder': 'Nickname used at signup',
  'findEmail.submit': 'Find Email',
  'findEmail.success': 'Registered email: {email}',
  'findEmail.notFound': 'No account found with this nickname.',
  'resetPw.title': 'Reset Password',
  'resetPw.email.placeholder': 'Your registered email',
  'resetPw.submit': 'Send Reset Link',
  'resetPw.success': 'Password reset email sent. Please check your inbox.',
  'resetPw.notFound': 'No account found with this email.',

  // terms agreement
  'terms.agreeAll': 'Agree to all',
  'terms.required': '[Required]',
  'terms.optional': '[Optional]',
  'terms.service': 'Terms of Service',
  'terms.privacy': 'Privacy Policy',
  'terms.marketing': 'Marketing communications',
  'terms.view': 'View',

  // auth errors
  'auth.error.generic': 'Authentication failed. Please try again.',
  'auth.error.user-not-found': 'No account found with this email.',
  'auth.error.wrong-password': 'Incorrect password.',
  'auth.error.invalid-email': 'Invalid email address.',
  'auth.error.email-already-in-use': 'This email is already registered.',
  'auth.error.weak-password': 'Password must be at least 6 characters.',
  'auth.error.too-many-requests': 'Too many attempts. Please try again later.',
  'auth.error.invalid-credential': 'Invalid email or password.',
  'auth.error.network-request-failed': 'Network error. Please check your connection.',

  // nav (addition)
  'nav.logout': 'Logout',
  'nav.logbook': 'Logbook',
  'nav.more': 'More',
  'nav.language': 'Language',

  // logbook
  'logbook.stats.totalDives': 'Total Dives',
  'logbook.stats.maxDepth': 'Max Depth',
  'logbook.stats.totalTime': 'Total Time',
  'logbook.stats.spots': 'Spots',
  'logbook.stats.avgDepth': 'Avg Depth',
  'logbook.stats.avgTime': 'Avg Time',
  'logbook.stats.skinDives': 'Skin',
  'logbook.stats.scubaDives': 'Scuba',
  'logbook.stats.firstDive': 'First Dive',
  'logbook.stats.lastDive': 'Last Dive',
  'logbook.stats.topSpots': 'Most Visited',
  'logbook.stats.monthly': 'Monthly Dives',
  'logbook.stats.yearly': 'Yearly',
  'logbook.stats.dives': '',
  'logbook.addNew': '+ New Log',
  'logbook.empty': 'No diving logs yet.',
  'logbook.emptySub': 'Add your first dive log!',
  'logbook.depth': 'Depth',
  'logbook.time': 'Time',
  'logbook.temp': 'Temp',
  'logbook.form.title': 'New Dive Log',
  'logbook.form.titleEdit': 'Edit Dive Log',
  'logbook.form.date': 'Date',
  'logbook.form.spotName': 'Spot Name',
  'logbook.form.activityType': 'Activity Type',
  'logbook.form.maxDepth': 'Max Depth (m)',
  'logbook.form.diveTime': 'Dive Time (min)',
  'logbook.form.waterTemp': 'Water Temp (°C)',
  'logbook.form.visibility': 'Visibility (m)',
  'logbook.form.equipment': 'Equipment',
  'logbook.form.weight': 'Weight (kg)',
  'logbook.form.entryTime': 'Entry Time',
  'logbook.form.exitTime': 'Exit Time',
  'logbook.time.am': 'AM',
  'logbook.time.pm': 'PM',
  'logbook.form.tankStart': 'Tank Start (bar)',
  'logbook.form.tankEnd': 'Tank End (bar)',
  'logbook.form.buddy': 'Buddy',
  'logbook.form.weather': 'Weather',
  'logbook.form.location': 'Location',
  'logbook.form.pickOnMap': 'Pick on Map',
  'logbook.form.pickBanner': 'Click the map to select a location',
  'logbook.form.pickCancel': 'Cancel',
  'logbook.form.memo': 'Memo',
  'logbook.form.save': 'Save',
  'logbook.form.cancel': 'Cancel',
  'logbook.delete.confirm': 'Delete this log?',
  'logbook.card.edit': 'Edit',
  'logbook.card.delete': 'Delete',
  'logbook.form.media': 'Photos/Videos',
  'logbook.form.mediaHint': 'Max 4 files (images 5MB, videos 50MB)',
  'logbook.validation.fileType': 'Unsupported file format.',
  'logbook.validation.fileSize': 'File size exceeded.',
  'logbook.validation.fileCount': 'Max 4 files allowed.',
  'logbook.uploading': 'Uploading...',
  'logbook.error.upload': 'File upload failed.',

  // my spots
  'myspot.badge': 'My Spot',
  'myspot.toggle': 'My Spots',
  'myspot.add': 'Add Spot',
  'myspot.form.title': 'New Diving Spot',
  'myspot.form.titleEdit': 'Edit Spot',
  'myspot.form.name': 'Spot Name',
  'myspot.form.location': 'Location',
  'myspot.form.pickOnMap': 'Pick on Map',
  'myspot.form.depth': 'Depth',
  'myspot.form.tempMin': 'Min Temp (°C)',
  'myspot.form.tempMax': 'Max Temp (°C)',
  'myspot.form.difficulty': 'Difficulty',
  'myspot.form.activityTypes': 'Activity Types',
  'myspot.form.memo': 'Memo',
  'myspot.form.save': 'Save',
  'myspot.form.cancel': 'Cancel',
  'myspot.delete.confirm': 'Delete this spot?',
  'myspot.card.edit': 'Edit',
  'myspot.card.delete': 'Delete',

  // page
  'title': 'Where2Dive — Find Diving Spots',

  // footer
  'footer.about': 'About Where2Dive',
  'footer.guide': 'Diving Guide',
  'footer.privacy': 'Privacy Policy',
  'footer.terms': 'Terms of Service',
  'footer.contact': 'Contact Us',
  'footer.section.service': 'Service',
  'footer.section.legal': 'Legal',
  'footer.section.info': 'Info',
  'footer.section.data': 'Data',
  'footer.desc': 'Find diving spots worldwide with weather and marine information.',
  'footer.copyright': '© 2025 Where2Dive. All rights reserved.',
  'footer.openMeteo': 'Open-Meteo',
  'footer.osm': 'OpenStreetMap',

  // search sheet
  'search.placeholder': 'Search spots, countries...',
  'search.title': 'Search',
  'search.country': 'Country',
  'search.countryPlaceholder': 'Search country...',
  'search.region': 'Region',
  'search.result.country': 'Country',
  'search.result.spot': 'Dive Spot',
  'search.difficulty': 'Difficulty',
  'search.season': 'Best Season',
  'search.temp': 'Water Temp',
  'search.visibility': 'Visibility',
  'search.noResults': 'No results found',

  // cookie
  'cookie.text': 'This website uses cookies to improve your experience. By continuing to use this site, you consent to the use of cookies.',
  'cookie.accept': 'Accept',
  'cookie.learnMore': 'Learn More',

  // reviews
  'review.title': 'Reviews',
  'review.write': 'Write Review',
  'review.empty': 'No reviews yet. Be the first to write one!',
  'review.countSuffix': ' reviews',
  'review.loginRequired': 'Please log in to write a review.',
  'review.edit': 'Edit',
  'review.delete': 'Delete',
  'review.delete.confirm': 'Delete this review?',
  'review.uploading': 'Uploading...',
  'review.error.upload': 'File upload failed.',
  'review.error.save': 'Failed to save review.',
  'review.error.delete': 'Failed to delete review.',
  'review.error.load': 'Failed to load reviews.',
  'review.sort.latest': 'Latest',
  'review.sort.ratingHigh': 'Highest Rated',
  'review.sort.ratingLow': 'Lowest Rated',
  'review.form.title': 'Write Review',
  'review.form.titleEdit': 'Edit Review',
  'review.form.rating': 'Rating',
  'review.form.reviewTitle': 'Title',
  'review.form.reviewTitlePlaceholder': 'Review title (max 50 chars)',
  'review.form.content': 'Content',
  'review.form.contentPlaceholder': 'Share your diving experience (max 500 chars)',
  'review.form.visitDate': 'Visit Date',
  'review.form.media': 'Photos/Videos',
  'review.form.mediaHint': 'Max 5 files (images 5MB, videos 50MB)',
  'review.form.save': 'Save',
  'review.form.cancel': 'Cancel',
  'review.validation.rating': 'Please select a rating.',
  'review.validation.title': 'Please enter a title.',
  'review.validation.content': 'Please enter content.',
  'review.validation.fileType': 'Unsupported file format.',
  'review.validation.fileSize': 'File size exceeded.',
  'review.validation.fileCount': 'Max 5 files allowed.',

  // profile
  'nav.profile': 'My Profile',
  'profile.title': 'Profile',
  'profile.editBtn': 'Edit Profile',
  'profile.bio': 'Bio',
  'profile.country': 'Country',
  'profile.noBio': 'No bio yet.',
  'profile.certs': 'Certifications',
  'profile.addCert': '+ Add Certification',
  'profile.noCerts': 'No certifications registered.',
  'profile.stats.title': 'Dive Statistics',
  'profile.stats.totalDives': 'Total Dives',
  'profile.stats.maxDepth': 'Max Depth',
  'profile.stats.totalTime': 'Total Time',
  'profile.stats.spots': 'Spots',
  'profile.recentLogs': 'Recent Dives',
  'profile.recentReviews': 'Recent Reviews',
  'profile.moreBtn': 'See More',
  'profile.noLogs': 'No dive logs yet.',
  'profile.noReviews': 'No reviews yet.',
  'profile.reviewCount': '{n} reviews',
  'profile.privacy.title': 'Privacy Settings',
  'profile.privacy.public': 'Public Profile',
  'profile.privacy.showCerts': 'Show Certifications',
  'profile.privacy.showReviews': 'Show Reviews',
  'profile.private': 'This profile is private.',
  'profile.edit.title': 'Edit Profile',
  'profile.edit.photo': 'Profile Photo',
  'profile.edit.changePhoto': 'Change Photo',
  'profile.edit.nickname': 'Nickname',
  'profile.edit.bio': 'Bio',
  'profile.edit.bioPlaceholder': 'Tell us about yourself (max 200 chars)',
  'profile.edit.country': 'Country',
  'profile.edit.countryPlaceholder': 'Select country...',
  'profile.edit.save': 'Save',
  'profile.edit.cancel': 'Cancel',
  'profile.cert.title': 'Add Certification',
  'profile.cert.org': 'Organization',
  'profile.cert.orgPlaceholder': 'Select org...',
  'profile.cert.level': 'Level',
  'profile.cert.levelPlaceholder': 'Select level...',
  'profile.cert.date': 'Date Obtained',
  'profile.cert.number': 'Cert Number',
  'profile.cert.photo': 'Cert Photo',
  'profile.cert.save': 'Add',
  'profile.cert.cancel': 'Cancel',
  'profile.error.save': 'Failed to save profile.',
  'profile.error.upload': 'Photo upload failed.',
  'profile.error.cert': 'Failed to add certification.',

  // achievements
  'nav.achievements': 'Achievements',
  'achievements.title': 'My Achievements',
  'achievements.counter': '{n}/{total}',
  'achievements.unlocked': 'Unlocked',
  'achievements.locked': 'Locked',
  'achievements.progress': 'Progress',
  'achievements.unlockedAt': 'Unlocked on',
  'achievements.newAchievement': 'New Achievement!',
  'achievements.confirm': 'OK',
  'achievements.featured': 'Featured Badges',
  'achievements.featuredHint': 'Select up to 3 badges to show on your profile.',
  'achievements.featuredSave': 'Save',
  'achievements.category.diving': 'Dive Count',
  'achievements.category.travel': 'Travel',
  'achievements.category.spots': 'Spots',
  'achievements.category.community': 'Community',
  'achievements.category.special': 'Special',
  'achievements.firstDive.name': 'First Dive',
  'achievements.firstDive.desc': 'Logged your first dive',
  'achievements.fish.name': 'Fish Friend',
  'achievements.fish.desc': 'Completed 10 dives',
  'achievements.dolphin.name': 'Dolphin',
  'achievements.dolphin.desc': 'Completed 30 dives',
  'achievements.whale.name': 'Whale',
  'achievements.whale.desc': 'Completed 50 dives',
  'achievements.poseidon.name': 'Poseidon',
  'achievements.poseidon.desc': 'Completed 100 dives',
  'achievements.explorer.name': 'Explorer',
  'achievements.explorer.desc': 'Dived in 3 countries',
  'achievements.traveler.name': 'World Traveler',
  'achievements.traveler.desc': 'Dived in 5 countries',
  'achievements.globalDiver.name': 'Global Diver',
  'achievements.globalDiver.desc': 'Dived in 10 countries',
  'achievements.worldChamp.name': 'World Champion',
  'achievements.worldChamp.desc': 'Dived in 20 countries',
  'achievements.firstStep.name': 'First Steps',
  'achievements.firstStep.desc': 'Visited 5 spots',
  'achievements.spotHunter.name': 'Spot Hunter',
  'achievements.spotHunter.desc': 'Visited 15 spots',
  'achievements.spotMaster.name': 'Spot Master',
  'achievements.spotMaster.desc': 'Visited 30 spots',
  'achievements.reviewer.name': 'Reviewer',
  'achievements.reviewer.desc': 'Wrote your first review',
  'achievements.popularReviewer.name': 'Popular Reviewer',
  'achievements.popularReviewer.desc': 'Wrote 10 reviews',
  'achievements.reviewMaster.name': 'Review Master',
  'achievements.reviewMaster.desc': 'Wrote 30 reviews',
  'achievements.photographer.name': 'Photographer',
  'achievements.photographer.desc': 'Uploaded 20 photos',
  'achievements.sunriseDiver.name': 'Sunrise Diver',
  'achievements.sunriseDiver.desc': 'Dived before 6 AM',
  'achievements.nightDiver.name': 'Night Diver',
  'achievements.nightDiver.desc': 'Dived after 8 PM',
  'achievements.iceDiver.name': 'Ice Diver',
  'achievements.iceDiver.desc': 'Dived in water below 15\u00B0C',
  'achievements.deepDiver.name': 'Deep Diver',
  'achievements.deepDiver.desc': 'Dived deeper than 30m',
  'achievements.consistent.name': 'Consistency',
  'achievements.consistent.desc': 'Logged dives for 30 consecutive days',

  // info
  'info.title': 'About Where2Dive',
  'info.content': 'Hello, and thank you for visiting Where2Dive!\n\nThis service was created for the convenience of snorkelers, freedivers, and scuba divers around the world.\n\nI\'ve done my best to provide detailed information for places I\'ve personally visited. However, locations I haven\'t been to yet were researched and added based on available resources. Because of this, there may be some inaccuracies in locations or other information, and I appreciate your understanding.\n\nI\'m committed to continuously improving this service, with the goal of making Where2Dive the most comprehensive and accurate diving spot guide in the world.\n\nThank you! \uD83E\uDD3F',
  'info.close': 'OK',
};
