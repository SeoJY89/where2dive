<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Where2Dive — 다이빙 스팟 찾기</title>
  <meta name="description" content="전 세계 스쿠버 다이빙 명소를 찾고, 지도에서 확인하고, 실시간 날씨·수온 정보를 확인하세요." />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet" />

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

  <!-- App CSS -->
  <link rel="stylesheet" href="/style.css" />
</head>
<body>
  <!-- ═══ Landing Page ═══ -->
  <section id="landing" class="landing">
    <div class="landing__scene">
      <svg class="landing__svg" viewBox="0 0 1440 900" preserveAspectRatio="xMidYMid slice" xmlns="http://www.w3.org/2000/svg">
        <!-- Light rays from surface -->
        <g class="light-rays">
          <polygon class="light-ray" points="300,0 340,0 500,900 420,900" fill="rgba(255,255,255,0.04)" />
          <polygon class="light-ray light-ray--2" points="600,0 650,0 780,900 700,900" fill="rgba(255,255,255,0.03)" />
          <polygon class="light-ray light-ray--3" points="900,0 960,0 1100,900 1020,900" fill="rgba(255,255,255,0.04)" />
          <polygon class="light-ray light-ray--4" points="1150,0 1200,0 1300,900 1230,900" fill="rgba(255,255,255,0.03)" />
        </g>

        <!-- Diver 1: Snorkeler (수면 스노클링) -->
        <g class="diver diver--1" transform="translate(720, 200)">
          <g transform="scale(2.5)">
            <!-- 몸통 -->
            <ellipse cx="0" cy="0" rx="18" ry="8" fill="rgba(255,255,255,0.75)" />
            <!-- 머리 -->
            <circle cx="-22" cy="-2" r="8" fill="rgba(255,220,185,0.8)" />
            <!-- 마스크 -->
            <ellipse cx="-26" cy="-3" rx="6" ry="4" fill="rgba(80,180,255,0.7)" stroke="rgba(255,255,255,0.9)" stroke-width="1.5" />
            <ellipse cx="-28" cy="-4" rx="1.5" ry="1" fill="rgba(255,255,255,0.5)" />
            <!-- J자 스노클 -->
            <path d="M-20,-8 Q-18,-16 -16,-22" stroke="rgba(255,200,50,1)" stroke-width="3.5" stroke-linecap="round" fill="none" />
            <circle cx="-16" cy="-24" r="2.5" fill="rgba(255,200,50,1)" />
            <!-- 팔 -->
            <path d="M-10,2 Q-18,8 -26,12" stroke="rgba(255,220,185,0.7)" stroke-width="4" stroke-linecap="round" fill="none" />
            <path d="M10,2 Q18,8 26,10" stroke="rgba(255,220,185,0.7)" stroke-width="4" stroke-linecap="round" fill="none" />
            <!-- 다리 -->
            <path d="M14,-2 Q22,2 28,6" stroke="rgba(255,255,255,0.65)" stroke-width="4" stroke-linecap="round" fill="none" />
            <path d="M16,2 Q24,6 30,10" stroke="rgba(255,255,255,0.65)" stroke-width="4" stroke-linecap="round" fill="none" />
            <!-- 오리발 -->
            <path d="M28,6 Q38,2 44,6 Q40,12 32,10 Z" fill="rgba(255,200,50,0.8)" />
            <path d="M30,10 Q40,6 46,10 Q42,16 34,14 Z" fill="rgba(255,200,50,0.8)" />
          </g>
        </g>

        <!-- Diver 2: Freediver (프리다이빙 하강) -->
        <g class="diver diver--2" transform="translate(720, 380)">
          <g transform="scale(2.2) rotate(-25)">
            <!-- 롱핀 -->
            <path d="M-4,26 Q-6,50 -5,75 Q-2,82 0,75 Q1,50 0,26 Z" fill="rgba(0,200,200,0.7)" />
            <path d="M4,26 Q6,50 5,75 Q2,82 0,75 Q-1,50 0,26 Z" fill="rgba(0,200,200,0.7)" />
            <path d="M-3,35 Q-4,50 -4,65" stroke="rgba(0,180,180,0.4)" stroke-width="0.8" fill="none" />
            <path d="M3,35 Q4,50 4,65" stroke="rgba(0,180,180,0.4)" stroke-width="0.8" fill="none" />
            <!-- 웨트슈트 몸통 -->
            <path d="M-5,-18 Q-7,-8 -6,6 Q-5,18 0,24 Q5,18 6,6 Q7,-8 5,-18 Q2,-22 0,-22 Q-2,-22 -5,-18 Z" fill="rgba(20,20,20,0.8)" />
            <!-- 머리 -->
            <ellipse cx="0" cy="-28" rx="6" ry="7" fill="rgba(255,220,185,0.85)" />
            <!-- 로우볼륨 마스크 -->
            <path d="M-4,-30 Q-6,-30 -6,-28 Q-6,-26 -4,-26 Q-2,-26 -2,-28 Q-2,-30 -4,-30 Z" fill="rgba(80,180,255,0.7)" stroke="rgba(255,255,255,0.8)" stroke-width="1" />
            <ellipse cx="-5" cy="-29" rx="0.8" ry="0.5" fill="rgba(255,255,255,0.5)" />
            <!-- 팔 (유선형) -->
            <path d="M-5,-12 Q-7,-4 -7,8 Q-6,16 -5,22" stroke="rgba(20,20,20,0.7)" stroke-width="3.5" stroke-linecap="round" fill="none" />
            <path d="M5,-12 Q7,-4 7,8 Q6,16 5,22" stroke="rgba(20,20,20,0.7)" stroke-width="3.5" stroke-linecap="round" fill="none" />
            <!-- 웨이트 벨트 -->
            <rect x="-6" y="4" width="12" height="3" rx="1" fill="rgba(100,100,100,0.6)" />
            <rect x="-2" y="4" width="4" height="3" rx="0.5" fill="rgba(160,160,160,0.7)" />
          </g>
        </g>

        <!-- Diver 3: Scuba diver (스쿠버다이빙) -->
        <g class="diver diver--3" transform="translate(720, 560)">
          <g transform="scale(2.2)">
            <!-- 탱크 -->
            <rect x="6" y="-18" width="12" height="28" rx="4" fill="rgba(200,200,200,0.7)" />
            <rect x="9" y="-22" width="6" height="5" rx="1.5" fill="rgba(180,180,180,0.8)" />
            <circle cx="12" cy="-24" r="2.5" fill="rgba(160,160,160,0.7)" />
            <!-- BCD -->
            <path d="M4,-14 Q-2,-8 -4,0 Q-4,8 0,14 Q4,16 6,14" fill="rgba(40,40,40,0.5)" stroke="rgba(255,180,0,0.7)" stroke-width="2" />
            <path d="M20,-14 Q26,-8 28,0 Q28,8 24,14 Q20,16 18,14" fill="rgba(40,40,40,0.5)" stroke="rgba(255,180,0,0.7)" stroke-width="2" />
            <!-- 웨트슈트 몸통 -->
            <path d="M4,-14 Q0,-10 -2,-2 Q-2,8 2,14 Q8,18 16,18 Q22,14 24,6 Q26,-2 24,-10 Q20,-16 12,-16 Q6,-16 4,-14 Z" fill="rgba(20,20,20,0.75)" />
            <!-- 머리 -->
            <ellipse cx="12" cy="-24" rx="8" ry="9" fill="rgba(255,220,185,0.85)" />
            <!-- 마스크 -->
            <path d="M6,-26 Q4,-26 4,-24 Q4,-22 8,-21 L8,-23 Q10,-24 14,-24 Q16,-23 16,-21 Q20,-22 20,-24 Q20,-26 18,-26 Z" fill="rgba(80,180,255,0.7)" stroke="rgba(255,255,255,0.8)" stroke-width="1.2" />
            <ellipse cx="7" cy="-25" rx="1.2" ry="0.8" fill="rgba(255,255,255,0.5)" />
            <!-- 레귤레이터 -->
            <path d="M16,-24 Q20,-22 22,-20 Q24,-18 22,-16" stroke="rgba(255,255,255,0.7)" stroke-width="2.5" stroke-linecap="round" fill="none" />
            <circle cx="16" cy="-22" r="2" fill="rgba(200,200,200,0.6)" />
            <!-- 게이지 호스 -->
            <path d="M8,-16 Q2,-12 0,-6" stroke="rgba(255,255,255,0.4)" stroke-width="1.5" fill="none" />
            <circle cx="0" cy="-4" r="3" fill="rgba(0,0,0,0.3)" stroke="rgba(255,255,255,0.5)" stroke-width="1" />
            <!-- 팔 -->
            <path d="M4,-6 Q-4,0 -10,4" stroke="rgba(20,20,20,0.6)" stroke-width="4" stroke-linecap="round" fill="none" />
            <path d="M22,-6 Q30,0 36,4" stroke="rgba(20,20,20,0.6)" stroke-width="4" stroke-linecap="round" fill="none" />
            <!-- 다리 -->
            <path d="M6,18 Q2,26 -2,34" stroke="rgba(20,20,20,0.6)" stroke-width="4" stroke-linecap="round" fill="none" />
            <path d="M18,18 Q22,26 26,34" stroke="rgba(20,20,20,0.6)" stroke-width="4" stroke-linecap="round" fill="none" />
            <!-- 오리발 -->
            <path d="M-2,34 Q-12,32 -16,36 Q-12,42 -4,40 Q0,38 -2,34 Z" fill="rgba(20,20,20,0.5)" />
            <path d="M26,34 Q36,32 40,36 Q36,42 28,40 Q24,38 26,34 Z" fill="rgba(20,20,20,0.5)" />
            <!-- 공기방울 -->
            <circle cx="28" cy="-30" r="3" fill="rgba(255,255,255,0.4)" class="reg-bubble reg-bubble--1" />
            <circle cx="32" cy="-40" r="2.5" fill="rgba(255,255,255,0.35)" class="reg-bubble reg-bubble--2" />
            <circle cx="26" cy="-48" r="4" fill="rgba(255,255,255,0.25)" class="reg-bubble reg-bubble--3" />
          </g>
        </g>

        <!-- Marine life: Turtle (hexagonal scute pattern, beak head, paddle flippers) -->
        <g class="marine marine--turtle">
          <g transform="scale(1.5)">
            <!-- Shell (carapace) -->
            <path d="M-18,0 Q-20,-10 -12,-14 Q0,-18 12,-14 Q20,-10 18,0 Q20,10 12,14 Q0,18 -12,14 Q-20,10 -18,0 Z" fill="rgba(80,160,100,0.5)" />
            <!-- Central scutes (vertebral) -->
            <path d="M-3,-12 L3,-12 L4,-6 L-4,-6 Z" fill="rgba(100,180,120,0.35)" stroke="rgba(70,140,90,0.3)" stroke-width="0.6" />
            <path d="M-4,-6 L4,-6 L5,0 L-5,0 Z" fill="rgba(100,180,120,0.35)" stroke="rgba(70,140,90,0.3)" stroke-width="0.6" />
            <path d="M-5,0 L5,0 L4,6 L-4,6 Z" fill="rgba(100,180,120,0.35)" stroke="rgba(70,140,90,0.3)" stroke-width="0.6" />
            <path d="M-4,6 L4,6 L3,12 L-3,12 Z" fill="rgba(100,180,120,0.35)" stroke="rgba(70,140,90,0.3)" stroke-width="0.6" />
            <!-- Costal scutes (sides) -->
            <path d="M-4,-6 L-12,-10 L-14,-4 L-5,0 Z" fill="rgba(90,170,110,0.3)" stroke="rgba(70,140,90,0.25)" stroke-width="0.5" />
            <path d="M4,-6 L12,-10 L14,-4 L5,0 Z" fill="rgba(90,170,110,0.3)" stroke="rgba(70,140,90,0.25)" stroke-width="0.5" />
            <path d="M-5,0 L-14,-4 L-16,4 L-4,6 Z" fill="rgba(90,170,110,0.3)" stroke="rgba(70,140,90,0.25)" stroke-width="0.5" />
            <path d="M5,0 L14,-4 L16,4 L4,6 Z" fill="rgba(90,170,110,0.3)" stroke="rgba(70,140,90,0.25)" stroke-width="0.5" />
            <!-- Head with beak -->
            <path d="M18,-2 Q22,-4 26,-4 Q30,-3 32,-1 Q30,1 26,2 Q22,2 18,1 Z" fill="rgba(100,180,120,0.5)" />
            <path d="M30,-2 Q33,-1 33,0 Q33,1 30,1 Z" fill="rgba(80,150,100,0.5)" />
            <circle cx="28" cy="-3" r="1.2" fill="rgba(0,0,0,0.45)" />
            <!-- Front flippers (paddle-shaped) -->
            <path d="M12,-12 Q18,-18 24,-22 Q28,-24 30,-20 Q28,-16 22,-12 Q18,-10 12,-10 Z" fill="rgba(80,160,100,0.4)" />
            <path d="M12,10 Q18,16 24,20 Q28,22 30,18 Q28,14 22,10 Q18,8 12,8 Z" fill="rgba(80,160,100,0.4)" />
            <!-- Rear flippers (smaller) -->
            <path d="M-14,-10 Q-18,-14 -22,-14 Q-24,-12 -22,-10 Q-18,-8 -14,-8 Z" fill="rgba(80,160,100,0.35)" />
            <path d="M-14,8 Q-18,12 -22,12 Q-24,10 -22,8 Q-18,6 -14,6 Z" fill="rgba(80,160,100,0.35)" />
            <!-- Tail -->
            <path d="M-18,0 Q-22,0 -24,2 Q-22,2 -20,1 Z" fill="rgba(80,160,100,0.35)" />
          </g>
        </g>

        <!-- Marine life: Shark (streamlined, pointed snout, asymmetric tail, 5 gills) -->
        <g class="marine marine--shark">
          <g transform="scale(1.6)">
            <!-- Body (fusiform, pointed snout, jaw line) -->
            <path d="M-28,0 Q-22,-8 -10,-8 Q0,-9 10,-8 Q22,-6 30,-4 Q36,-2 40,0 Q36,2 30,3 Q22,5 10,6 Q0,7 -10,6 Q-22,5 -28,0 Z" fill="rgba(120,140,160,0.5)" />
            <!-- Snout (pointed) -->
            <path d="M36,-2 Q42,-1 44,0 Q42,1 36,1 Z" fill="rgba(120,140,160,0.48)" />
            <!-- Jaw line -->
            <path d="M30,2 Q34,3 38,2" stroke="rgba(100,120,140,0.3)" stroke-width="0.5" fill="none" />
            <!-- Underbelly (lighter) -->
            <path d="M-24,2 Q-10,7 10,7 Q28,5 36,2 Q28,6 10,8 Q-10,8 -24,4 Z" fill="rgba(160,175,190,0.25)" />
            <!-- Dorsal fin (tall, triangular) -->
            <path d="M-2,-8 Q0,-20 4,-24 Q6,-22 10,-8 Z" fill="rgba(120,140,160,0.5)" />
            <!-- Second dorsal (small) -->
            <path d="M-20,-4 Q-19,-8 -17,-4 Z" fill="rgba(120,140,160,0.4)" />
            <!-- Asymmetric tail (upper lobe larger) -->
            <path d="M-28,0 Q-32,-2 -38,-14 Q-36,-12 -32,-6 Q-30,-2 -28,0 Z" fill="rgba(120,140,160,0.45)" />
            <path d="M-28,0 Q-32,2 -36,8 Q-34,6 -30,2 Z" fill="rgba(120,140,160,0.4)" />
            <!-- Pectoral fins (wide, triangular) -->
            <path d="M14,5 Q18,12 24,18 Q26,16 22,10 Q18,6 16,4 Z" fill="rgba(120,140,160,0.4)" />
            <path d="M12,-6 Q16,-12 20,-16 Q22,-14 18,-8 Q14,-4 12,-4 Z" fill="rgba(120,140,160,0.35)" />
            <!-- Pelvic fin -->
            <path d="M-8,5 Q-6,10 -4,8 Q-6,6 -8,5 Z" fill="rgba(120,140,160,0.35)" />
            <!-- Anal fin -->
            <path d="M-16,4 Q-14,8 -12,6 Q-14,4 -16,4 Z" fill="rgba(120,140,160,0.35)" />
            <!-- 5 gill slits -->
            <path d="M24,-4 L24,3" stroke="rgba(100,120,140,0.3)" stroke-width="0.7" />
            <path d="M22,-4 L22,4" stroke="rgba(100,120,140,0.3)" stroke-width="0.7" />
            <path d="M20,-3 L20,4" stroke="rgba(100,120,140,0.3)" stroke-width="0.7" />
            <path d="M18,-3 L18,4" stroke="rgba(100,120,140,0.3)" stroke-width="0.7" />
            <path d="M16,-2 L16,4" stroke="rgba(100,120,140,0.3)" stroke-width="0.7" />
            <!-- Eye -->
            <circle cx="34" cy="-2" r="1.8" fill="rgba(0,0,0,0.45)" />
          </g>
        </g>

        <!-- Marine life: Hammerhead (T-shaped cephalofoil, S-curve body, falcate dorsal) -->
        <g class="marine marine--hammerhead">
          <g transform="scale(1.4)">
            <!-- S-curve body -->
            <path d="M-25,2 Q-18,-4 -8,-6 Q2,-7 12,-5 Q20,-2 26,0 Q22,3 12,5 Q2,6 -8,5 Q-18,4 -25,2 Z" fill="rgba(100,130,150,0.45)" />
            <!-- Underbelly -->
            <path d="M-20,3 Q-8,6 8,6 Q20,4 26,1 Q20,5 8,7 Q-8,7 -20,4 Z" fill="rgba(130,155,175,0.2)" />
            <!-- Cephalofoil (T-shaped hammer) -->
            <path d="M26,0 L28,-2 Q30,-4 32,-6 Q36,-8 40,-8 Q44,-7 44,-5 Q44,-3 40,-2 Q36,-1 32,0 Z" fill="rgba(100,130,150,0.45)" />
            <path d="M26,0 L28,2 Q30,4 32,6 Q36,8 40,8 Q44,7 44,5 Q44,3 40,2 Q36,1 32,0 Z" fill="rgba(100,130,150,0.45)" />
            <!-- Eyes at hammer tips -->
            <circle cx="43" cy="-6" r="1.5" fill="rgba(0,0,0,0.45)" />
            <circle cx="43" cy="6" r="1.5" fill="rgba(0,0,0,0.45)" />
            <!-- Tall dorsal fin (falcate/curved) -->
            <path d="M2,-6 Q0,-14 2,-22 Q4,-24 6,-20 Q8,-14 10,-5 Z" fill="rgba(100,130,150,0.45)" />
            <!-- Second dorsal (small) -->
            <path d="M-16,-2 Q-15,-6 -13,-2 Z" fill="rgba(100,130,150,0.35)" />
            <!-- Asymmetric tail -->
            <path d="M-25,2 Q-30,0 -36,-10 Q-34,-8 -30,-2 Q-28,0 -25,2 Z" fill="rgba(100,130,150,0.4)" />
            <path d="M-25,2 Q-30,4 -34,10 Q-32,8 -28,4 Z" fill="rgba(100,130,150,0.35)" />
            <!-- Pectoral fins -->
            <path d="M10,4 Q14,10 18,16 Q20,14 16,8 Q12,4 10,3 Z" fill="rgba(100,130,150,0.35)" />
            <!-- Pelvic fin -->
            <path d="M-6,4 Q-4,8 -2,6 Q-4,4 -6,4 Z" fill="rgba(100,130,150,0.3)" />
            <!-- 5 gill slits -->
            <path d="M20,-2 L20,3" stroke="rgba(80,110,130,0.3)" stroke-width="0.6" />
            <path d="M18,-2 L18,3" stroke="rgba(80,110,130,0.3)" stroke-width="0.6" />
            <path d="M16,-1 L16,3" stroke="rgba(80,110,130,0.3)" stroke-width="0.6" />
            <path d="M14,-1 L14,3" stroke="rgba(80,110,130,0.3)" stroke-width="0.6" />
            <path d="M12,0 L12,3" stroke="rgba(80,110,130,0.3)" stroke-width="0.6" />
          </g>
        </g>

        <!-- Bubbles -->
        <circle class="bubble bubble--1" cx="300" cy="900" r="4" fill="rgba(255,255,255,0.15)" />
        <circle class="bubble bubble--2" cx="520" cy="900" r="3" fill="rgba(255,255,255,0.12)" />
        <circle class="bubble bubble--3" cx="780" cy="900" r="5" fill="rgba(255,255,255,0.18)" />
        <circle class="bubble bubble--4" cx="1000" cy="900" r="3.5" fill="rgba(255,255,255,0.14)" />
        <circle class="bubble bubble--5" cx="1150" cy="900" r="4.5" fill="rgba(255,255,255,0.16)" />
        <circle class="bubble bubble--6" cx="400" cy="900" r="2.5" fill="rgba(255,255,255,0.10)" />
        <circle class="bubble bubble--7" cx="650" cy="900" r="3" fill="rgba(255,255,255,0.13)" />
        <circle class="bubble bubble--8" cx="900" cy="900" r="4" fill="rgba(255,255,255,0.15)" />
      </svg>
    </div>

    <div class="landing__card">
      <div class="landing__logo">
        <svg viewBox="0 0 24 24" width="40" height="40" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M2 12C2 7 7 2 12 2s10 5 10 10"/>
          <path d="M12 22c-2-3-6-7-6-10a6 6 0 0 1 12 0c0 3-4 7-6 10z"/>
          <circle cx="12" cy="12" r="2"/>
        </svg>
        <span>Where2Dive</span>
      </div>
      <p class="landing__tagline" data-i18n="landing.tagline">전 세계 다이빙 스팟을 찾아보세요</p>
      <form id="login-form" class="landing__form" autocomplete="off">
        <div class="landing__field">
          <label for="login-email" class="sr-only" data-i18n="landing.email">이메일</label>
          <input type="email" id="login-email" class="landing__input" placeholder="Email" required />
        </div>
        <div class="landing__field">
          <label for="login-password" class="sr-only" data-i18n="landing.password">비밀번호</label>
          <input type="password" id="login-password" class="landing__input" placeholder="Password" required />
        </div>
        <button type="submit" class="landing__submit" data-i18n="landing.login">로그인</button>
        <p class="landing__error hidden" id="login-error" data-i18n="landing.error">이메일 또는 비밀번호가 올바르지 않습니다.</p>
      </form>
      <p class="landing__demo" data-i18n="landing.demo">데모: demo@where2dive.com / 1234</p>
      <div class="landing__lang" id="landing-lang-toggle">
        <button class="lang-toggle__btn active" data-lang="ko">한국어</button>
        <button class="lang-toggle__btn" data-lang="en">EN</button>
      </div>
    </div>
  </section>

  <!-- ═══ Header ═══ -->
  <header class="header">
    <div class="header__inner">
      <a href="/" class="header__logo" aria-label="홈으로 이동">
        <svg class="header__icon" viewBox="0 0 24 24" width="28" height="28" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M2 12C2 7 7 2 12 2s10 5 10 10"/>
          <path d="M12 22c-2-3-6-7-6-10a6 6 0 0 1 12 0c0 3-4 7-6 10z"/>
          <circle cx="12" cy="12" r="2"/>
        </svg>
        <span class="header__title">Where2Dive</span>
      </a>
      <nav class="header__nav" aria-label="메인 내비게이션">
        <button class="nav-btn active" data-view="map" aria-pressed="true">지도</button>
        <button class="nav-btn" data-view="list" aria-pressed="false">목록</button>
        <button class="nav-btn" data-view="favorites" aria-pressed="false">
          즐겨찾기(<span id="fav-count">0</span>)
        </button>
        <button class="nav-btn" data-view="logbook" aria-pressed="false" data-i18n="nav.logbook">로그북</button>
      </nav>
      <div class="lang-toggle" id="lang-toggle">
        <button class="lang-toggle__btn active" data-lang="ko">한국어</button>
        <button class="lang-toggle__btn" data-lang="en">EN</button>
      </div>
      <button class="header__logout" id="logout-btn" data-i18n="nav.logout">로그아웃</button>
      <button class="header__mobile-filter-toggle" id="filter-toggle" aria-label="필터 열기/닫기" aria-expanded="false">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 3H2l8 9.46V19l4 2v-8.54L22 3z"/></svg>
        <span id="filter-toggle-text">필터</span>
      </button>
    </div>
  </header>

  <!-- ═══ Filter Bar ═══ -->
  <section class="filter-bar" id="filter-bar" aria-label="검색 및 필터">
    <div class="filter-bar__inner">
      <div class="filter-group">
        <label for="search-input" class="sr-only">검색</label>
        <input type="search" id="search-input" class="filter-input" placeholder="스팟 이름, 국가, 해양생물 검색..." autocomplete="off" />
      </div>
      <div class="filter-group filter-group--activity">
        <div class="activity-toggle" role="radiogroup" aria-label="활동 유형">
          <button class="activity-toggle__btn active" data-activity="" aria-pressed="true">전체<span class="activity-toggle__count" id="count-all">0</span></button>
          <button class="activity-toggle__btn" data-activity="skin" aria-pressed="false">스킨<span class="activity-toggle__count" id="count-skin">0</span></button>
          <button class="activity-toggle__btn" data-activity="scuba" aria-pressed="false">스쿠버<span class="activity-toggle__count" id="count-scuba">0</span></button>
          <button class="activity-toggle__btn" data-activity="myspot" aria-pressed="false">내 스팟<span class="activity-toggle__count" id="count-myspot">0</span></button>
        </div>
      </div>
      <div class="filter-group filter-group--country">
        <label for="country-input" class="sr-only">국가 검색</label>
        <div class="autocomplete" id="country-autocomplete">
          <input type="text" id="country-input" class="filter-input" placeholder="국가 검색 (EN)..." autocomplete="off" />
          <button class="autocomplete__clear hidden" id="country-clear" aria-label="국가 선택 해제">&times;</button>
          <ul class="autocomplete__list hidden" id="country-list" role="listbox"></ul>
        </div>
      </div>
      <div class="filter-group">
        <label for="region-select" class="sr-only">지역</label>
        <select id="region-select" class="filter-select">
          <option value="">모든 지역</option>
        </select>
      </div>
      <button class="filter-reset" id="filter-reset">초기화</button>
      <button class="list-toggle" id="list-toggle" aria-pressed="false">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3.01" y2="6"/><line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/></svg>
        <span id="list-toggle-text">목록</span>
      </button>
    </div>
  </section>

  <!-- ═══ Main Content ═══ -->
  <main class="main">
    <div class="main__inner">
      <!-- Map Panel -->
      <div class="map-panel" id="map-panel">
        <div id="map" class="map"></div>
        <button class="fab fab--add-spot" id="add-spot-btn" title="Add Spot">+</button>
        <div class="map-pick-banner hidden" id="map-pick-banner">
          <span id="map-pick-banner-text">지도를 클릭하여 위치를 선택하세요</span>
          <button type="button" class="btn btn--secondary" id="map-pick-cancel">취소</button>
        </div>
      </div>
      <!-- Cards Panel -->
      <div class="cards-panel" id="cards-panel">
        <div class="cards-panel__count" id="spot-count"></div>
        <div class="cards-grid" id="cards-grid"></div>
        <div class="empty-state hidden" id="empty-state">
          <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" opacity=".4"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
          <p>조건에 맞는 다이빙 스팟이 없습니다.</p>
          <button class="btn btn--secondary" id="empty-reset">필터 초기화</button>
        </div>
        <div class="empty-state hidden" id="fav-empty-state">
          <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" opacity=".4"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78L12 21.23l8.84-8.84a5.5 5.5 0 0 0 0-7.78z"/></svg>
          <p>아직 즐겨찾기한 스팟이 없습니다.</p>
          <p class="empty-state__sub">하트를 눌러 관심 있는 스팟을 저장해보세요!</p>
        </div>
        <!-- Logbook view -->
        <div class="logbook-view hidden" id="logbook-view">
          <div class="logbook-stats" id="logbook-stats"></div>
          <button class="btn btn--primary logbook-add-btn" id="add-log-btn">+ 새 로그</button>
          <div class="logbook-list" id="logbook-list"></div>
          <div class="empty-state hidden" id="logbook-empty-state">
            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" opacity=".4"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/></svg>
            <p id="logbook-empty-text">아직 다이빙 로그가 없습니다.</p>
            <p class="empty-state__sub" id="logbook-empty-sub">첫 다이빙 기록을 추가해보세요!</p>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- ═══ Detail Modal ═══ -->
  <div class="modal-overlay hidden" id="modal-overlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
      <button class="modal__close" id="modal-close" aria-label="닫기">&times;</button>
      <div class="modal__body" id="modal-body">
        <!-- Dynamically rendered -->
      </div>
    </div>
  </div>

  <!-- ═══ Log Form Modal ═══ -->
  <div class="modal-overlay hidden" id="log-modal-overlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true">
      <button class="modal__close" id="log-modal-close" aria-label="닫기">&times;</button>
      <div class="modal__body">
        <h2 class="modal__title" id="log-modal-title">새 다이빙 로그</h2>
        <form class="log-form" id="log-form" autocomplete="off">
          <input type="hidden" id="log-edit-id" value="" />
          <!-- Activity toggle at top -->
          <div class="log-form__field">
            <label id="log-activity-label">활동 유형</label>
            <div class="log-activity-switch" id="log-activity-switch">
              <button type="button" class="log-activity-switch__btn active" data-value="skin" id="log-activity-skin">
                <span class="log-activity-switch__icon" id="log-skin-icon"></span>
                <span id="log-skin-text">스킨</span>
              </button>
              <button type="button" class="log-activity-switch__btn" data-value="scuba" id="log-activity-scuba">
                <span class="log-activity-switch__icon" id="log-scuba-icon"></span>
                <span id="log-scuba-text">스쿠버</span>
              </button>
            </div>
            <input type="hidden" id="log-activity-value" value="skin" />
          </div>
          <div class="log-form__grid">
            <div class="log-form__field">
              <label for="log-date" id="log-date-label">날짜</label>
              <input type="date" id="log-date" required />
            </div>
            <div class="log-form__field">
              <label for="log-spot-name" id="log-spot-label">스팟 이름</label>
              <input type="text" id="log-spot-name" list="log-spot-datalist" />
              <datalist id="log-spot-datalist"></datalist>
            </div>
          </div>
          <div class="log-form__grid">
            <div class="log-form__field">
              <label for="log-depth" id="log-depth-label">최대 수심 (m)</label>
              <input type="number" id="log-depth" step="0.1" min="0" />
            </div>
            <div class="log-form__field">
              <label for="log-time" id="log-time-label">다이빙 시간 (분)</label>
              <input type="number" id="log-time" min="0" />
            </div>
          </div>
          <div class="log-form__grid">
            <div class="log-form__field">
              <label for="log-temp" id="log-temp-label">수온 (°C)</label>
              <input type="number" id="log-temp" step="0.1" />
            </div>
            <div class="log-form__field">
              <label for="log-visibility" id="log-vis-label">시야 (m)</label>
              <input type="number" id="log-visibility" step="0.1" min="0" />
            </div>
          </div>
          <div class="log-form__grid">
            <div class="log-form__field">
              <label for="log-equipment" id="log-equip-label">장비</label>
              <input type="text" id="log-equipment" />
            </div>
            <div class="log-form__field">
              <label for="log-weight" id="log-weight-label">웨이트 (kg)</label>
              <input type="number" id="log-weight" step="0.1" min="0" />
            </div>
          </div>
          <!-- Scuba-only fields -->
          <div class="log-scuba-section hidden" id="log-scuba-fields">
            <div class="log-form__grid">
              <div class="log-form__field">
                <label for="log-tank-start" id="log-tank-start-label">시작 잔압 (bar)</label>
                <input type="number" id="log-tank-start" min="0" />
              </div>
              <div class="log-form__field">
                <label for="log-tank-end" id="log-tank-end-label">종료 잔압 (bar)</label>
                <input type="number" id="log-tank-end" min="0" />
              </div>
            </div>
            <div class="log-form__grid">
              <div class="log-form__field">
                <label for="log-entry-time" id="log-entry-time-label">입수 시간</label>
                <input type="time" id="log-entry-time" />
              </div>
              <div class="log-form__field">
                <label for="log-exit-time" id="log-exit-time-label">출수 시간</label>
                <input type="time" id="log-exit-time" />
              </div>
            </div>
          </div>
          <div class="log-form__grid">
            <div class="log-form__field">
              <label for="log-buddy" id="log-buddy-label">버디</label>
              <input type="text" id="log-buddy" />
            </div>
            <div class="log-form__field">
              <label for="log-weather" id="log-weather-label">날씨</label>
              <input type="text" id="log-weather" />
            </div>
          </div>
          <div class="log-form__field">
            <label id="log-location-label">위치</label>
            <div class="map-pick-row">
              <button type="button" class="btn btn--secondary map-pick-btn" id="log-pick-map-btn">지도에서 선택</button>
              <span class="map-pick-coords" id="log-coords-text"></span>
            </div>
            <input type="hidden" id="log-lat" />
            <input type="hidden" id="log-lng" />
          </div>
          <div class="log-form__field">
            <label for="log-memo" id="log-memo-label">메모</label>
            <textarea id="log-memo" rows="3"></textarea>
          </div>
          <div class="log-form__actions">
            <button type="button" class="btn btn--secondary" id="log-cancel">취소</button>
            <button type="submit" class="btn btn--primary" id="log-save">저장</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- ═══ Spot Form Modal ═══ -->
  <div class="modal-overlay hidden" id="spot-modal-overlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true">
      <button class="modal__close" id="spot-modal-close" aria-label="닫기">&times;</button>
      <div class="modal__body">
        <h2 class="modal__title" id="spot-modal-title">새 다이빙 스팟</h2>
        <form class="log-form" id="spot-form" autocomplete="off">
          <input type="hidden" id="spot-edit-id" value="" />
          <div class="log-form__field">
            <label for="spot-name" id="spot-name-label">스팟 이름</label>
            <input type="text" id="spot-name" required />
          </div>
          <div class="log-form__field">
            <label id="spot-location-label">위치</label>
            <div class="map-pick-row">
              <button type="button" class="btn btn--secondary map-pick-btn" id="spot-pick-map-btn">지도에서 선택</button>
              <span class="map-pick-coords" id="spot-coords-text"></span>
            </div>
            <input type="hidden" id="spot-lat" />
            <input type="hidden" id="spot-lng" />
          </div>
          <div class="log-form__field">
            <label for="spot-depth" id="spot-depth-label">수심</label>
            <input type="text" id="spot-depth" />
          </div>
          <div class="log-form__grid">
            <div class="log-form__field">
              <label for="spot-temp-min" id="spot-temp-min-label">최저 수온 (°C)</label>
              <input type="number" id="spot-temp-min" step="0.1" />
            </div>
            <div class="log-form__field">
              <label for="spot-temp-max" id="spot-temp-max-label">최고 수온 (°C)</label>
              <input type="number" id="spot-temp-max" step="0.1" />
            </div>
          </div>
          <div class="log-form__field">
            <label for="spot-difficulty" id="spot-difficulty-label">난이도</label>
            <select id="spot-difficulty" class="filter-select">
              <option value="beginner">초급</option>
              <option value="intermediate">중급</option>
              <option value="advanced">상급</option>
            </select>
          </div>
          <div class="log-form__field">
            <label id="spot-activity-label">활동 유형</label>
            <div class="log-form__toggle">
              <label class="log-form__radio">
                <input type="checkbox" name="spot-activity" value="skin" checked /> 스킨
              </label>
              <label class="log-form__radio">
                <input type="checkbox" name="spot-activity" value="scuba" /> 스쿠버
              </label>
            </div>
          </div>
          <div class="log-form__field">
            <label for="spot-memo" id="spot-memo-label">메모</label>
            <textarea id="spot-memo" rows="3"></textarea>
          </div>
          <div class="log-form__actions">
            <button type="button" class="btn btn--secondary" id="spot-cancel">취소</button>
            <button type="submit" class="btn btn--primary" id="spot-save">저장</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- ═══ Footer ═══ -->
  <footer class="footer">
    <p>Powered by <a href="https://open-meteo.com/" target="_blank" rel="noopener">Open-Meteo</a> &amp; <a href="https://www.openstreetmap.org/" target="_blank" rel="noopener">OpenStreetMap</a></p>
  </footer>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <!-- App JS -->
  <script type="module" src="/js/app.js"></script>
</body>
</html>
